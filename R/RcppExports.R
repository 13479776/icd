# This file was generated by Rcpp::compileAttributes
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

icd9IsA_cpp_slow <- function(s, c) {
    .Call('icd9_icd9IsA_cpp_slow', PACKAGE = 'icd9', s, c)
}

icd9IsV_cpp_slower <- function(sv) {
    .Call('icd9_icd9IsV_cpp_slower', PACKAGE = 'icd9', sv)
}

icd9IsSingleV <- function(s) {
    .Call('icd9_icd9IsSingleV', PACKAGE = 'icd9', s)
}

icd9IsSingleE <- function(s) {
    .Call('icd9_icd9IsSingleE', PACKAGE = 'icd9', s)
}

icd9IsSingleVE <- function(s) {
    .Call('icd9_icd9IsSingleVE', PACKAGE = 'icd9', s)
}

icd9IsV <- function(sv) {
    .Call('icd9_icd9IsV', PACKAGE = 'icd9', sv)
}

icd9IsE <- function(sv) {
    .Call('icd9_icd9IsE', PACKAGE = 'icd9', sv)
}

icd9IsVE <- function(sv) {
    .Call('icd9_icd9IsVE', PACKAGE = 'icd9', sv)
}

#' @name icd9Is_cpp_slow
#' @title is the given code V or E type?
#' @description quickly find V or E codes, without fully validating V or E
#'   codes. Use fixed instead of regex for speed. Don't check position of V or
#'   E: this is not validation, just a quick classification of pre-validated
#'   codes. TODO: this doesn't look efficient, but can't use fixed with ignore
#'   case, and regex slower.
#' @template icd9-any
#' @examples
#'
#' library(microbenchmark)
#' # regex is a little faster than fixed
#' icd9 <- rep(times = 500, c("1", "not", "V10.0", " E950", ""))
#' microbenchmark(times = 3,
#'   grepl(pattern = "E", icd9, fixed = TRUE) |
#'   grepl(pattern = "e", icd9, fixed = TRUE) |
#'   grepl(pattern = "V", icd9, fixed = TRUE) |
#'   grepl(pattern = "v", icd9, fixed = TRUE))
#' microbenchmark(times = 3, grepl(pattern = "[EeVv]", rnd))
#' microbenchmark(icd9:::icd9IsV_cpp_slower(icd9), icd9:::icd9IsV_R(icd9), icd9:::icd9IsV_cpp_slow(icd9), icd9:::icd9IsV(icd9))
#'
icd9Is_cpp_slow <- function(sv, c) {
    .Call('icd9_icd9Is_cpp_slow', PACKAGE = 'icd9', sv, c)
}

icd9IsV_cpp_slow <- function(sv) {
    .Call('icd9_icd9IsV_cpp_slow', PACKAGE = 'icd9', sv)
}

icd9IsE_cpp_slow <- function(sv) {
    .Call('icd9_icd9IsE_cpp_slow', PACKAGE = 'icd9', sv)
}

icd9IsVE_cpp_slow <- function(sv) {
    .Call('icd9_icd9IsVE_cpp_slow', PACKAGE = 'icd9', sv)
}

icd9MajMinToCode <- function(mj, mn, isShort) {
    .Call('icd9_icd9MajMinToCode', PACKAGE = 'icd9', mj, mn, isShort)
}

#' @name icd9MajMinToShort
#' @rdname icd9MajMinToShort
#' @title icd9MajMinToShort
#' @export
icd9MajMinToShort <- function(mjr, mnr) {
    .Call('icd9_icd9MajMinToShort', PACKAGE = 'icd9', mjr, mnr)
}

#' @name icd9MajMinToDecimal
#' @title icd9MajMinToDecimal
#' @export
icd9MajMinToDecimal <- function(mjr, mnr) {
    .Call('icd9_icd9MajMinToDecimal', PACKAGE = 'icd9', mjr, mnr)
}

#' @name icd9PartsToShort
#' @title icd9PartsToShort
#' @export
icd9PartsToShort <- function(parts) {
    .Call('icd9_icd9PartsToShort', PACKAGE = 'icd9', parts)
}

#' @name icd9PartsToDecimal
#' @title icd9PartsToDecimal
#' @export
icd9PartsToDecimal <- function(parts) {
    .Call('icd9_icd9PartsToDecimal', PACKAGE = 'icd9', parts)
}

#' @name icd9MajMinToParts_df
#' @title icd9MajMinToParts_df
#' @description Convert vectors of major and minor components into a data frame with a column for major and a column for minor.
#' This is 20x faster in this C++ implementation, and important for a very frequently used function.
#' @import Rcpp
#' @export
icd9MajMinToParts <- function(mjr, mnr) {
    .Call('icd9_icd9MajMinToParts', PACKAGE = 'icd9', mjr, mnr)
}

#' @name icd9MajMinToParts
#' @title icd9MajMinToParts
#' @description Convert vectors of major and minor components into a data frame with a column for major and a column for minor.
#' This is probably just as quick in R, but I think I may rely on having a data frame output (which is slower to construct in R)
#' @import Rcpp
#' @export
icd9MajMinToParts_list <- function(mjr, mnr) {
    .Call('icd9_icd9MajMinToParts_list', PACKAGE = 'icd9', mjr, mnr)
}

#' @name icd9MajMinToParts_slower
#' @title icd9MajMinToParts_slower
#' @description Convert vectors of major and minor components into a data frame with a column for major and a column for minor.
#' This is slightly slower than the R implementation. using Rcpp11 std::to_string is even slower than this.
#' @import Rcpp
#' @export
icd9MajMinToParts_slower <- function(mjr, mnr) {
    .Call('icd9_icd9MajMinToParts_slower', PACKAGE = 'icd9', mjr, mnr)
}

#' @name icd9ShortToParts_cpp_slow
#' @title extract major and minor parts of a decimal ICD-9 code
#' @description accepts Vxxxx Exxxx or xxxxx
#' @template icd9-short
#' @param minorEmpty vector of length one, to be used in place of
#' minor part of zero. Defaults to ""
#' @template invalid
#' @return data.frame with two columns. At least the minor part must be
#' character, because "03" is different to "3", but "30" is the same as "3"
#' @keywords manip
#' @export
icd9ShortToParts_cpp_slow <- function(icd9Short, minorEmpty = "") {
    .Call('icd9_icd9ShortToParts_cpp_slow', PACKAGE = 'icd9', icd9Short, minorEmpty)
}

#' @name icd9ShortToParts
#' @title extract major and minor parts of a decimal ICD-9 code
#' @description accepts Vxxxx Exxxx or xxxxx. This version just beats native R, but lowerhead for calls.
#' @template icd9-short
#' @param minorEmpty vector of length one, to be used in place of
#' minor part of zero. Defaults to ""
#' @template invalid
#' @return data.frame with two columns. At least the minor part must be
#' character, because "03" is different to "3", but "30" is the same as "3"
#' @keywords manip
#' @export
icd9ShortToParts <- function(icd9Short, minorEmpty = "") {
    .Call('icd9_icd9ShortToParts', PACKAGE = 'icd9', icd9Short, minorEmpty)
}

icd9DecimalToParts <- function(icd9Decimal, minorEmpty = "") {
    .Call('icd9_icd9DecimalToParts', PACKAGE = 'icd9', icd9Decimal, minorEmpty)
}

icd9ShortToParts_cpp_test <- function(icd9Short, minorEmpty = "") {
    .Call('icd9_icd9ShortToParts_cpp_test', PACKAGE = 'icd9', icd9Short, minorEmpty)
}

#' @name icd9ShortToDecimal
#' @title icd9ShortToDecimal
#' @export
icd9ShortToDecimal <- function(x) {
    .Call('icd9_icd9ShortToDecimal', PACKAGE = 'icd9', x)
}

#' @name icd9ExpandMinor
#' @title Expand a root 'minor' part of code into all possible children.
#' @examples
#'
#' microbenchmark(icd9:::icd9ExpandMinor("7", FALSE), icd9:::icd9ExpandMinor_R("7", FALSE))
#' microbenchmark(icd9:::icd9ExpandMinor("", FALSE), icd9:::icd9ExpandMinor_R("", FALSE))
#' microbenchmark(icd9:::icd9ExpandMinor("7", TRUE), icd9:::icd9ExpandMinor_R("7", TRUE))
#' microbenchmark(icd9:::icd9ExpandMinor("", TRUE), icd9:::icd9ExpandMinor_R("", TRUE))
#'
icd9ExpandMinor <- function(x, isE) {
    .Call('icd9_icd9ExpandMinor', PACKAGE = 'icd9', x, isE)
}

#' @title Expand 5 character form 'short' ICD9 to all possible sub codes
#' @description Much faster in C++, but gains diminished with increasing numbers of input shorts.
#' @rdname icd9ChildrenShort
#' @template icd9-short
#' @keywords manip
#' @family ICD-9 ranges
#' @examples
#'
#' library(microbenchmark)
#' "400" %i9s% "410" -> shorts
#' microbenchmark(icd9:::icd9ChildrenShort(shorts), icd9:::icd9ChildrenShort_R(shorts), times = 5)
#'
#' @export
icd9ChildrenShort <- function(icd9Short, onlyReal = FALSE) {
    .Call('icd9_icd9ChildrenShort', PACKAGE = 'icd9', icd9Short, onlyReal)
}

icd9ChildrenDecimal <- function(icd9Decimal, onlyReal = FALSE) {
    .Call('icd9_icd9ChildrenDecimal', PACKAGE = 'icd9', icd9Decimal, onlyReal)
}

#' @title extract major part from short or decimal ICD-9 code
#' @description Simply extracts parts, then returns only the major part in a
#'   character vector
#' @template icd9-any
#' @template isShort
#' @template invalid
#' @return character vector
icd9GetMajor <- function(icd9, isShort) {
    .Call('icd9_icd9GetMajor', PACKAGE = 'icd9', icd9, isShort)
}

